name = "wawa-push"
main = "src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# ─── D1 Database ────────────────────────────────────────────────
# After running `npm run db:create`, paste the database_id below
[[d1_databases]]
binding = "DB"
database_name = "wawa-push-db"
database_id = "ebb97d6b-f2c8-41af-8b87-3f65dda46594"

# ─── Cron Triggers ──────────────────────────────────────────────
# Runs every minute to check for due notifications
[triggers]
crons = ["* * * * *"]

# ─── Environment Variables ──────────────────────────────────────
# Set these via: wrangler secret put VAPID_PRIVATE_KEY
# Or in the Cloudflare dashboard under Workers > Settings > Variables
[vars]
VAPID_PUBLIC_KEY = "BGn-3R_P5Ot3pXznxldkqhtpuIzQ8SktUaV32KpkSYLDn_aSNdKOuLMkB62QwbjGtNjyRHe5m8vMIS-HXmTw_og"
VAPID_EMAIL = "mailto:scemer999@gmail.com"
ALLOWED_ORIGINS = "http://localhost:5173,http://localhost:4173"
